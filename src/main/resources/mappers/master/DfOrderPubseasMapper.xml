<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.guoanshequ.dc.das.dao.master.DfOrderPubseasMapper">

	<!-- 将从gemini查询到的数据结果写入到daqWeb表中 -->
	<insert id="addDfOrderPubseas" parameterType="DFOrderPubseasEntity" >
		<![CDATA[
	        insert into df_order_pubseas_monthly
	              (
		             df_order_id,df_order_sn,df_trading_price,df_customer_id,df_customer_name,df_customer_phone,df_store_id,df_storeno,df_store_name,
		             df_area_no,df_area_name,df_employee_a_no,df_employee_a_name,df_tiny_village_id,df_tiny_village_name,df_order_placename,
		             df_ispubseas,df_signed_time,df_createtime,df_updatetime
	              )
	        values
		          (
					#{df_order_id},#{df_order_sn},#{df_trading_price},#{df_customer_id},#{df_customer_name},#{df_customer_phone},#{df_store_id},#{df_storeno},#{df_store_name},
					#{df_area_no},#{df_area_name},#{df_employee_a_no},#{df_employee_a_name},#{df_tiny_village_id},#{df_tiny_village_name},#{df_order_placename},
					#{df_ispubseas},#{df_signed_time},#{df_createtime},#{df_updatetime}
		          )
		 ]]>
	</insert>
	
	
	<select id="queryOrderPubseasByOrderId" parameterType="java.util.Map" resultType = "String">
		<![CDATA[
	       select df_order_id from df_order_pubseas_monthly 
	       where df_signed_time >= #{begindate} and df_signed_time <DATE_ADD(DATE(#{enddate}), INTERVAL 1 DAY) and df_order_id =#{df_order_id}
	  	]]>
	</select>
	
	<update id="updateOrderPubseasByOrderId" parameterType="DFOrderPubseasEntity" >
		<![CDATA[
			update df_order_pubseas_monthly 
			set df_area_no = #{df_area_no} , df_area_name =#{df_area_name},df_employee_a_no =#{df_employee_a_no},df_employee_a_name=#{df_employee_a_name},
				df_tiny_village_id =#{df_tiny_village_id},df_tiny_village_name =#{df_tiny_village_name}, df_order_placename=#{df_order_placename},
				df_ispubseas = #{df_ispubseas},df_updatetime = now()
			where df_order_id = #{df_order_id}
		]]>
	</update>
	
</mapper>